(this.webpackJsonpskriphy=this.webpackJsonpskriphy||[]).push([[0],{18:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),c=a.n(r),i=a(6),o=a(2),s=a(17),m=a.n(s),u=function(){return l.a.createElement("svg",{className:"icon svg",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),l.a.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}))},d=function(){return l.a.createElement("svg",{className:"icon svg",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},l.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},h=function(){return l.a.createElement("svg",{className:"icon svg",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},l.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},p=function(){return l.a.createElement("svg",{className:"icon svg",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},l.a.createElement("path",{d:"M24 0H0v24h24z",fill:"none"}),l.a.createElement("path",{d:"M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"}))},g=function(){return l.a.createElement("svg",{className:"icon animated",width:"38",height:"38",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("defs",null,l.a.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},l.a.createElement("stop",{stopColor:"#000",stopOpacity:"0",offset:"0%"}),l.a.createElement("stop",{stopColor:"#000",stopOpacity:".631",offset:"63.146%"}),l.a.createElement("stop",{stopColor:"#000",offset:"100%"}))),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("g",{transform:"translate(1 1)"},l.a.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",id:"Oval-2",stroke:"url(#a)",strokeWidth:"2"},l.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})),l.a.createElement("circle",{fill:"#fff",cx:"36",cy:"18",r:"1"},l.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})))))},v=function(e){var t=e.searchInputValue,a=e.setSearchInputValue,n=e.initiateGiphyAPISearchOnTerm,r=t.length>0&&t.length>=3;return l.a.createElement("form",{className:"giphy-search-form"},l.a.createElement("label",{className:"search-input-label"},l.a.createElement("input",{className:"search-input",type:"text",name:"searchInput",placeholder:"Search for Giphies...",value:t,onChange:function(e){var t=e.target.value;a(t)}})),l.a.createElement("div",{className:"search-actions"},l.a.createElement("button",{disabled:!r,className:"btn submit",type:"submit",onClick:function(e){e.preventDefault(),r?n(t):console.log("Search term too short!")}},l.a.createElement(h,null)),l.a.createElement("button",{disabled:0===t.length,className:"btn clear-search",type:"button",onClick:function(){a("")}},l.a.createElement(d,null))))},f=a(5),E=a.n(f);function y(e){var t,a,n,l,r,c,i,o,s,m,u,d;return{itemId:null===e||void 0===e?void 0:e.id,url:null===e||void 0===e?void 0:e.url,urlGIFOriginal:null===e||void 0===e||null===(t=e.images)||void 0===t||null===(a=t.original)||void 0===a?void 0:a.url,urlGIFDownsized:null===e||void 0===e||null===(n=e.images)||void 0===n||null===(l=n.downsized)||void 0===l?void 0:l.url,urlGIFPreview:null===e||void 0===e||null===(r=e.images)||void 0===r||null===(c=r.preview_gif)||void 0===c?void 0:c.url,urlGIFFixedHeight:null===e||void 0===e||null===(i=e.images)||void 0===i||null===(o=i.fixed_height)||void 0===o?void 0:o.url,urlGIFFixedWidth:null===e||void 0===e||null===(s=e.images)||void 0===s||null===(m=s.fixed_width)||void 0===m?void 0:m.url,urlGIFFixedWidth_Height:null===e||void 0===e||null===(u=e.images)||void 0===u||null===(d=u.fixed_width)||void 0===d?void 0:d.height}}function I(e,t){return"https://api.giphy.com/v1/gifs/search?api_key=".concat(e,"&q=").concat(t)}I.propTypes={apiKey:E.a.string,searchTerm:E.a.string};var b="giphyAPIKey",w="imageObjects",S="hiddenImageIds",O="searchTerm",N="appTheme";function k(e){localStorage.setItem(N,e)}var j="loading",x="idle",A="success",T="error",C="light",G="dark";var H=function(e){var t=e.giphyGalleryItems,a=e.hiddenItemIds,n=e.removeItemById;return t?l.a.createElement("ul",{className:"items-list"},t.map((function(e){var t=y(e).itemId;return a.indexOf(t)>=0?null:l.a.createElement(P,Object.assign({key:t},{giphyImageObject:e,removeItemById:n}))}))):null},P=function(e){var t=e.giphyImageObject,a=e.removeItemById,n=y(t),r=n.itemId,c=n.url,i=n.urlGIFFixedWidth,o=n.urlGIFFixedWidth_Height;return l.a.createElement("li",{className:"image-item",key:r},l.a.createElement("img",{style:{opacity:0},className:"img",id:r,src:i,alt:i,height:o,loading:"lazy",onLoad:function(){var e;e=r,document.getElementById(e).style.transition="opacity 1s",document.getElementById(e).style.opacity="1"}}),l.a.createElement("div",{className:"controls"},l.a.createElement("button",{title:"Copy link to clipboard",type:"button",className:"btn copy-link",onClick:function(){!function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}(c)}},l.a.createElement(u,null)),l.a.createElement("button",{title:"Remove image",type:"button",className:"btn remove",onClick:function(){a(r)}},l.a.createElement(d,null))))};var z=function(){return l.a.createElement("div",{className:"state-idle"},l.a.createElement("span",null,"Search for something..."))},B=function(){return l.a.createElement("section",{className:"notice warning"},"Please fill in your GIPHY API key!")},F=function(e){return l.a.createElement("div",{className:"state-error"},l.a.createElement("div",null,"Oops... there was an error with your request, maybe try again?"),l.a.createElement("div",null,e))},M=function(){return l.a.createElement("div",{className:"state-loading"},l.a.createElement("div",{className:"loader"},"Searching..."),l.a.createElement("div",null,l.a.createElement(g,null)))},K=function(e){var t=e.resetApp,a=e.toggleAppTheme;return l.a.createElement("header",null,l.a.createElement("h1",{className:"title"},"skriphy"),l.a.createElement("div",{className:"actions"},l.a.createElement("button",{type:"button",className:"btn reset-app",title:"Reset all app data (except your API key)",onClick:t},"Reset!"),l.a.createElement("button",{type:"button",className:"btn toggle-theme",title:"Toggle theme",onClick:a},l.a.createElement(p,null))))},R=function(e){var t=e.giphyAPIKey,a=e.setAPIKey;return l.a.createElement("footer",null,l.a.createElement("label",{className:"api-key-label"},l.a.createElement("span",null,"GIPHY API Key: "),l.a.createElement("input",{className:"apikey-input",type:"text",name:"apiKeyInput",placeholder:"Insert your key...",value:t,onChange:function(e){a(e.target.value)}})),l.a.createElement("div",{className:"info"},"GIPHY search by Vangelis Erotokritakis (April 2020)"))},V=function(e){var t=e.searchTerm,a=e.apiResults,n=e.apiResultsHiddenIds,r=e.removeItemById,c=a.length-n.length;return l.a.createElement("div",{className:"state-success"},t.length>0&&l.a.createElement("h2",{className:"title"},"Results for '",t,"' (",c,")"),l.a.createElement(H,{giphyGalleryItems:a,hiddenItemIds:n,removeItemById:r}))};a(42);var J=function(){var e=Object(n.useState)(C),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),u=s[0],d=s[1],h=Object(n.useState)(""),p=Object(o.a)(h,2),g=p[0],f=p[1],E=Object(n.useState)(0),y=Object(o.a)(E,2),H=y[0],P=y[1],J=Object(n.useState)([]),W=Object(o.a)(J,2),_=W[0],L=W[1],D=Object(n.useState)([]),Y=Object(o.a)(D,2),q=Y[0],$=Y[1],Q=Object(n.useState)(x),U=Object(o.a)(Q,2),X=U[0],Z=U[1],ee=Object(n.useState)(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(""),re=Object(o.a)(le,2),ce=re[0],ie=re[1],oe=function(){localStorage.setItem(w,""),localStorage.setItem(O,""),localStorage.setItem(S,""),d(""),L([]),$([]),Z(x),r(C)};Object(n.useEffect)((function(){var e=function(){var e,t,a,n=null!==(e=localStorage.getItem(b))&&void 0!==e?e:"",l=localStorage.getItem(w),r=l?JSON.parse(l):[],c=localStorage.getItem(S);return{localGiphyAPIKey:n,localImageObjects:r,localHiddenImageIds:c?JSON.parse(c):[],localSearchTerm:null!==(t=localStorage.getItem(O))&&void 0!==t?t:"",localAppTheme:null!==(a=localStorage.getItem(N))&&void 0!==a?a:""}}(),t=e.localGiphyAPIKey,a=e.localImageObjects,n=e.localHiddenImageIds,l=e.localSearchTerm,c=e.localAppTheme;a&&(L(a),Z(A)),l&&(d(l),f(l)),n&&$(n),t&&ie(t),c&&r(c),document.title="skriphy | ReactJS demo by Vangelis Erotokritakis (04/2020)"}),[]),Object(n.useEffect)((function(){if(g.length>0){Z(j),window.scrollTo({top:0,behavior:"smooth"});setTimeout((function(){var e=I(ce,g);m()(e).then((function(e){var t=function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data}(e);!function(e){var t=e.searchTerm,a=e.imageObjects;localStorage.setItem(w,JSON.stringify(a)),localStorage.setItem(O,t),localStorage.setItem(S,"")}({searchTerm:g,imageObjects:t}),$([]),Z(A),L(t)})).catch((function(e){Z(T),ne(e)}))}),1200)}}),[H]);var se=function(){a===C?(r(G),k(G)):(r(C),k(C))},me=ce.length>8;return l.a.createElement("div",{className:"SkriphyApp ".concat(a)},l.a.createElement(K,{resetApp:oe,toggleAppTheme:se}),l.a.createElement("main",null,me&&l.a.createElement("section",{className:"giphy-search"},l.a.createElement(v,{searchInputValue:u,setSearchInputValue:d,initiateGiphyAPISearchOnTerm:function(e){f(e),P(Date.now())}})),!me&&l.a.createElement(B,null),me&&l.a.createElement(n.Fragment,null,l.a.createElement("section",{className:"search-results"},X===x&&l.a.createElement(z,null),X===j&&l.a.createElement(M,null),X===T&&l.a.createElement(F,{errorMessage:ae}),X===A&&l.a.createElement(V,{searchTerm:g,apiResults:_,apiResultsHiddenIds:q,removeItemById:function(e){var t,a=[].concat(Object(i.a)(q),[e]),n=new Set(a),l=Object(i.a)(n);$(l),t=l,localStorage.setItem(S,JSON.stringify(t))}})))),l.a.createElement(R,{giphyAPIKey:ce,setAPIKey:function(e){var t;t=e,localStorage.setItem(b,t),ie(e)},resetApp:oe,toggleAppTheme:se}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.a780e880.chunk.js.map